<!DOCTYPE html>
<html>
<head>
	<link href='http://fonts.googleapis.com/css?family=Noto+Sans|Noto+Serif:400,700&subset=latin,greek,cyrillic,latin-ext' rel='stylesheet' type='text/css'>	    
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<title>  API Change Log -  Europeana Labs </title>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width"/>
	<!-- never cache patterns -->
	<meta http-equiv="cache-control" content="max-age=0"/>
	<meta http-equiv="cache-control" content="no-cache"/>
	<meta http-equiv="expires" content="0"/>
	<meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT"/>
	<meta http-equiv="pragma" content="no-cache"/>
	<meta property="og:title" content=" API Change Log -  Europeana Labs" />
    <meta property="og:description" content="" />
    <meta property="og:site_name" content="Europeana Labs" />
	<meta property="twitter:title" content=" API Change Log -  Europeana Labs" />
    <meta property="twitter:description" content="" />
    <meta property="twitter:site_name" content="Europeana Labs" />    

    <link rel="stylesheet" href="/css/styleguide.css"/>
    <link rel="stylesheet" href="/css/screen.css" media="all" />
    <link rel="icon" href="/img/favicon.ico" type="image/x-icon">
    <link rel='author' href='/humans.txt'/>
    
	<style type="text/css">.tk-dejarip{font-family:"dejarip",sans-serif;}.tk-ff-more-web-pro{font-family:"ff-more-web-pro",serif;}</style>
	
	<link href='http://fonts.googleapis.com/css?family=Ubuntu|Open+Sans' rel='stylesheet' type='text/css'>    
    <link rel="stylesheet" href="/css/labs.css" />
    <script src="/js/jquery-1.9.1.min.js" type="text/javascript" charset="utf-8"></script>
	<script src="/js/lunr.min.js" type="text/javascript" charset="utf-8"></script>
	<script src="/js/mustache.js" type="text/javascript" charset="utf-8"></script>
	<script src="/js/date.format.js" type="text/javascript" charset="utf-8"></script>
	<script src="/js/URI.min.js" type="text/javascript" charset="utf-8"></script>
	<script src="/js/jquery.lunr.search.js" type="text/javascript" charset="utf-8"></script>
	<script src="/js/jquery.pages.js"></script>
	<script src="/js/tagfiltering.js"></script>				
    <script src="/js/labs.js"></script>
    <script type="text/javascript" src="//use.typekit.net/ifv4urq.js"></script>
	<script type="text/javascript">try{Typekit.load();}catch(e){}</script>
	<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-49084773-1', 'europeana.eu');
  ga('send', 'pageview');

</script>
</head>
<body class="sg-single-pattern svg"><!--
-->﻿<!-- Begin header -->
<header class="header cf" role="banner">
    <div class="lc">
        <a href="/" class="logo ir"> </a>	
        <a id="hamMenu" href="#" class="nav-toggle nav-toggle-menu icon-rows"><span class="is-vishidden">Menu</span></a>
        <a href="/rss.xml" class="nav-toggle nav-toggle-search icon-rss"><span class="is-vishidden">Rss</span></a>
        <a href="/search" class="nav-toggle nav-toggle-search icon-search"><span class="is-vishidden">Search</span></a>

		
        <form id="search" action="/search" method="get" class="inline-form search-form">
        	
        	<a id="rssUrl" href="/rss.xml" class="icon-rss pull-right"><span class="is-vishidden">Rss</span></a>
            <fieldset>
                <legend class="is-vishidden">Search</legend>
                <label for="search-field" class="is-vishidden">Search</label>
                <input type="text" placeholder="Search" id="search-query" name="q" class="search-field search-query" autocomplete="off">
                <button class="search-submit">
                    <span class="icon-search" aria-hidden="true"></span>
                    <span class="is-vishidden">Search</span>
                </button>
            </fieldset>
        </form>
        <nav id="nav" class="nav">
            <ul>
                <li><a href="/" class="current">Home</a></li>
                <li><a href="/api">APIs</a></li>
                <li><a href="/data">Data</a></li>
                <li><a href="/apps">Apps</a></li>
                <li><a href="/blog">Blog</a></li>                
                <li><a href="/events">Events</a></li>
                <li><a href="/incubation">Incubation</a></li>
                <li><a href="/support">Support</a></li>
            </ul>
        </nav>
    </div>
	<div class="featureBanner"></div>
</header>
<!-- End header -->
<!--
-->

<div role="main" class="grid">
	<div class="block block-content-header">
		<div class="grid__item palm--one-whole push--palm--none three-quarters push--one-quarter">
			<h1 class="title">API Change Log</h1>
		</div>
	</div>

		<div class="grid__item one-quarter palm--one-whole">		
		<style type="text/css">
		  ul.notabs {display: none;}
		  ul.notabs li a {border: 0;}

		  ul ul li { margin:0; margin-left: 30px;}
		  ul.notabs a { padding: 0.5rem; }	
		  ul ul li a.current{text-decoration: underline; }		
		</style>
		<ul class="tabs tabs-v">
			<li><a href="/api" title="API Introduction">Introduction</a></li>
			<li>
				<a class="menuTrigger">REST API</a>
				<ul class="notabs tabs-v">
					<li><a href="/api/introduction" title="Introduction">Introduction</a></li>
					<li><a href="/api/getting-started" title="Getting Started with the Europeana REST API">Getting Started</a></li>
					<li><a href="/api/registration" title="API Registration">Get an API-key</a></li>
					<li><a href="/api/console" title="API Console">Console</a></li>
					<li><a href="/api/authentication" title="Authentication">Authentication</a></li>
					<li><a href="/api/search" title="Search">Search</a></li>
					<li><a href="/api/query" title="Query">Query Syntax</a></li>
					<li><a href="/api/record" title="Record">Record</a></li>
					<li><a href="/api/record-jsonld" title="Record">Record in JSON-LD</a></li>
					<li><a href="/api/myeuropeana" title="Accessing MyEuropeana">MyEuropeana</a></li>
					<li><a href="/api/provider" title="Querying Providers and Datasets">Provider and Datasets</a></li>
					<!--<li><a href="/api/data-fields" title="API Data Fields Reference">Data Fields</a></li>-->					
					<li><a href="/api/data-hierarchy" title="Data Hierarchy">Data Hierarchy</a></li>					
					<li><a href="/api/data-fields" title="Data Fields">Data Fields</a></li>
					<li><a href="/api/error" title="Error Codes">Error Codes</a></li>	
					<li><a href="/api/changelog" title="API ChangeLog">Change Log</a></li>
				</ul>
			</li>
			<li>
				<a class="menuTrigger">Linked Open Data</a>
				<ul class="notabs tabs-v">
					<li><a href="/api/linked-open-data/introduction">Introduction</a></li>
					<li><a href="/api/linked-open-data/data-downloads">Data Downloads</a></li>
					<li><a href="/api/linked-open-data/SPARQL-endpoint">SPARQL-endpoint</a></li>
					<li><a href="/api/linked-open-data/data-structure">Data Structure</a></li>
					<li><a href="/api/linked-open-data/FAQ">FAQ</a></li>
					<li><a href="/api/linked-open-data/credits">Credits</a></li>
				</ul>
			</li>
			<li><a href="/api/search-widget" title="Search Widget">Search Widget</a></li>			
			<li><a href="http://www.europeana.eu/portal/rights/api-terms-of-use.html" title="API Data Fields Reference">Terms of Use</a></li>						
		</ul>	
	</div>

		
	<div id="documentation" class="prose grid__item palm--one-whole push--palm-none one-half"><!--
	--><p>This document describes the changes of Europeana API. The changes are grouped by new API versions. We deploy new versions of the portal and the API quite regularly, but not all new versions has change in the interface. The API documentation always describes the current version of the API. We don’t have (yet?) however API call to get the actual version, so the API users should see the date of changes.</p>

<h2 id="version-206-2013-08-09">Version 2.0.6 (2013-08-09)</h2>

<p>New allowable value for the <em>profile</em> parameter: <code>params</code>. When client adds <code>params</code> to the <em>profile</em> parameter, the header of the response will contain a <code>params</code> key, which lists the requested and default parameters of the API call. The client can use profile <em>profile</em> parameter in search and object calls. The parameter accepts both single and multiple values separated by comma or space (such as <code>&amp;profile=standard</code> or <code>&amp;profile=standard,params</code> or <code>&amp;amp;profile=standard%20params</code>).</p>

<h3 id="example">Example</h3>

<p><code>
http://europeana.eu/api/v2/search.json?wskey=xxxxxxxx&amp;amp;query=mona+lisa&amp;amp;profile=standard%20params
</code></p>

<p>returns</p>

<p><code>JavaScript
{
  "apikey": "xxxxxxxxx",
  "action": "search.json",
  "success": true,
  "requestNumber": 6,
  "params": {
    "query": "mona lisa",
    "profile": "standard params",
    "start": 1,
    "rows": 12
  },
  "itemsCount": 12,
  "totalResults": 195,
  "items": [...]
}
</code></p>

<h2 id="version-208-2013-10-23">Version 2.0.8 (2013-10-23)</h2>

<p>New parameter: <code>reusability</code>. It might have two possible values: Free and Limited. It is an additional filter, which selects those items, which can be reusable free, or in a limited way. They are shorthands for a couple of right values:</p>

<p>Free:</p>

<ul>
  <li>NOC: http://creativecommons.org/publicdomain/mark/</li>
  <li>CC-ZERO: http://creativecommons.org/publicdomain/zero/1.0/*</li>
  <li>CC-BY: http://creativecommons.org/licenses/by/</li>
  <li>CC-BY-SA: http://creativecommons.org/licenses/by-sa/</li>
</ul>

<p>Limited</p>

<ul>
  <li>CC-BY-NC: http://creativecommons.org/licenses/by-nc/</li>
  <li>CC-BY-NC-SA: http://creativecommons.org/licenses/by-nc-sa/</li>
  <li>CC-BY-NC-ND: http://creativecommons.org/licenses/by-nc-nd/</li>
  <li>CC-BY-ND: http://creativecommons.org/licenses/by-nd/</li>
  <li>OOC-NC: http://www.europeana.eu/rights/out-of-copyright-non-commercial/</li>
</ul>

<p>It has double effects 1) it filter the search result with the appropriate right values, 2) if facets are requested, it provides a new facet, called REUSABILITY.</p>

<p>Example:</p>

<p><code>
http://localhost:8080/api/v2/search.json?wskey=api2demo&amp;query=*:*&amp;reusability=free&amp;qf=TYPE:VIDEO&amp;profile=portal
</code></p>

<p>returns</p>

<p><code>JavaScript
{
  "apikey": "xxxxxxxxxx",  
  "action": "search.json",  
  ...
  "items": [ … ],  
  ...
  "facets": [
    ...
    {  
      "name": "REUSABILITY",
      "fields": [
        {"label": "Limited", "count": 9795},
        {"label": "Free", "count": 3659}
      ]
    }
  ]
}
</code></p>

<h2 id="version-2010-2014-02-13">Version 2.0.10 (2014-02-13)</h2>

<h3 id="timestamps-of-creation-and-modification">Timestamps of creation and modification</h3>

<p>New values in search and full record responses, giving information about when the particular record was created and updated. We provide these information both as UNIX timestamp, and as a more human readable ISO 8601 format (ISO 8601 Data elements and interchange formats – Information interchange – Representation of dates and times.http://en.wikipedia.org/wiki/ISO_8601).</p>

<ul>
  <li><strong>timestamp_created_epoch</strong>: UNIX timestamp of the date when record were created</li>
  <li><strong>timestamp_update_epoch</strong>: UNIX timestamp of the date when record were last updated</li>
  <li><strong>timestamp_created</strong>: ISO 8601 format of the date when record were created</li>
  <li><strong>timestamp_update</strong>: ISO 8601 format of the date when record were last updated</li>
</ul>

<p>Examples</p>

<p>Search response:</p>

<p><code>JavaScript
{
  "apikey": "xxxxxxxxxx",  
  "action": "search.json",  
  ...
  "items": [
    {
      ...
      "timestamp_created_epoch": 1385744622879,
      "timestamp_update_epoch": 1385744622879,
      "timestamp_created": "2013-11-29T18:03:42.879Z",
      "timestamp_update": "2013-11-29T18:03:42.879Z"
      ...
    },
    ...
  ],
  ...
}
</code></p>

<p>Record response:</p>

<p><code>JavaScript
{
  "apikey": "xxxxxxxxxx",  
  "action": "record.json",  
  ...
  "object": {
    ...
    "timestamp_created_epoch": 1385744622879,
    "timestamp_update_epoch": 1385744622879,
    "timestamp_created": "2013-11-29T18:03:42.879Z",
    "timestamp_update": "2013-11-29T18:03:42.879Z"
  },
  ...
}
</code></p>

<p>You even search for this information:</p>

<p>Searching for a particular date:</p>

<p><code>
&amp;query=timestamp_created:"2013-03-16T20:26:27.168Z"
&amp;query=timestamp_updated:"2013-03-16T20:26:27.168Z"
</code></p>

<p>searching for date range (as [date1 TO date2]):</p>

<p><code>
&amp;query=timestamp_created:["2013-03-15T19:58:36.43Z"+TO+"2013-04-15T19:58:36.43Z"]
&amp;query=timestamp_updated:["2013-03-15T19:58:36.43Z"+TO+"2013-04-15T19:58:36.43Z"]
</code></p>

<p>Solr’s date mathematics is also works:
[xxx TO NOW] = untill now:</p>

<p><code>
&amp;query=timestamp_created:[2013-10-06T23:59:59.999Z+TO+NOW]
&amp;query=timestamp_updated:[2013-10-06T23:59:59.999Z+TO+NOW]
</code></p>

<p>[xxx TO NOW+1DAY] = untill tomorrow:</p>

<p><code>
&amp;query=timestamp_created:[2013-10-06T23:59:59.999Z+TO+NOW%2B1DAY]
&amp;query=timestamp_updated:[2013-10-06T23:59:59.999Z+TO+NOW%2B1DAY]
</code></p>

<p>[xxx TO NOW-1DAY] = untill yesterday:</p>

<p><code>
&amp;query=timestamp_created:[2013-10-06T23:59:59.999Z+TO+NOW-1DAY]
&amp;query=timestamp_updated:[2013-10-06T23:59:59.999Z+TO+NOW-1DAY]
</code></p>

<p>[NOW-2MONTH/DAY TO NOW/DAY] = last two months:</p>

<p><code>
&amp;query=timestamp_created:[NOW-2MONTH/DAY+TO+NOW/DAY]
&amp;query=timestamp_updated:[NOW-2MONTH/DAY+TO+NOW/DAY]
</code></p>

<p>Keep in mind, that + sign should be encoded as %2B, otherwise it will be taken as space, and results an invalid Solr query. More on Solr date math syntax: (http://lucene.apache.org/solr/4_6_0/solr-core/org/apache/solr/util/DateMathParser.html)</p>

<h3 id="retrieving-individual-facets">Retrieving individual facets</h3>

<p>So far the user could get the default facets Europeana set. From now on the API users can select which facets they would like to retrieve. We have introduced a new parameter: facet. When you request facet you have to set the profile either as facets or as portal (which covers facets as well).</p>

<p>The value of the parameter could be “DEFAULT” (which is a shortcut of the Europeana facet set we make use on the portal, which contains UGC, LANGUAGE, TYPE, YEAR, PROVIDER, DATA_PROVIDER, COUNTRY and RIGHTS), or any field name which is indexed and stored in Apache Solr.
We maintain a table in API documentation about the existing fields: http://europeana.eu/portal/api-fields.html. In the field type column “text” means indexed as as a row of distinct terms, while “string” means indexed as phrase, so the whole content is taken as one individual unit.</p>

<p>Users can set one or more facets in one query.</p>

<p>Requesting a single facet:</p>

<pre><code>&amp;facet=proxy_dc_contributor&amp;profile=facets
</code></pre>

<p>Requesting multiple facets can be done with three different syntaxes. You can add multiple facet parameters, or one facet parameter with multiple values separated by commas or spaces:</p>

<p>multiple facet parameters</p>

<pre><code>&amp;facet=proxy_dc_coverage&amp;facet=proxy_dc_contributor&amp;profile=facets
</code></pre>

<p>multiple facets separated by commas</p>

<pre><code>&amp;facet=proxy_dc_coverage,proxy_dc_contributor&amp;profile=facets
</code></pre>

<p>multiple facets separated by spaces</p>

<pre><code>&amp;facet=proxy_dc_coverage%20proxy_dc_contributor&amp;profile=facets

&amp;facet=proxy_dc_coverage+proxy_dc_contributor&amp;profile=facets
</code></pre>

<p>Requesting the default facets:</p>

<pre><code>&amp;profile=portal

&amp;profile=facets

&amp;facet=DEFAULT&amp;profile=facets
</code></pre>

<p>Combining default facets with custom facets:</p>

<pre><code>&amp;facet=DEFAULT+proxy_dc_contributor&amp;profile=facets
</code></pre>

<p>Offset and limit of facets</p>

<p>The API user can set how many facet values she would like to retrieve, and which should be the first one. With this parameters, she can page over all facet values without requesting too much at a time. The limit and offset parameter syntax is a little bit tricky, but if you are familiar with Apache Solr syntax, it won’t be strange, because it is the same.</p>

<pre><code>f.[facet name].facet.limit such as &amp;f.PROVIDER.facet.limit=30
f.[facet name].facet.offset such as &amp;f.PROVIDER.facet.offset=30
</code></pre>

<p>Both parameters accept numeric values.</p>

<p>The default offset value is 0, it means no offset, the first item to return is the first item in the list. 1 offset the list by one, so the first item to return is the second and so on.</p>

<p>In limit 0 means not to return anything.</p>

<p>The special DEFAULT shortcut works here as well, and it limit the facets which are part of the above mentioned set. So &amp;f.DEFAULT.facet.limit=20 works for RIGHTS, and PROVIDER, but doesn’t work for non default facets such as proxy_dc_contributor.</p>

<h2 id="version-2-0-12-2014-06-18">Version 2-0-12 (2014-06-18)</h2>

<h3 id="v2translatequeryjson">/v2/translateQuery.json</h3>

<p>Translate a term to different languages. Right now this functionality is a wrapper around an Wikipeadia API call, but we work on other implementation.</p>

<p>WARNING: Right now it is in alpha phase of the development, do not rely in production service!</p>

<p>Request parameters:</p>

<table>
  <thead>
    <tr>
      <th style="text-align: left">Parameter</th>
      <th style="text-align: left">Datatype</th>
      <th style="text-align: left">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left">wskey</td>
      <td style="text-align: left">String</td>
      <td style="text-align: left">Your API key</td>
    </tr>
    <tr>
      <td style="text-align: left">languageCodes</td>
      <td style="text-align: left">String</td>
      <td style="text-align: left">The ISO language codes separated by commas or spaces</td>
    </tr>
    <tr>
      <td style="text-align: left">term</td>
      <td style="text-align: left">String</td>
      <td style="text-align: left">The term to translate</td>
    </tr>
  </tbody>
</table>

<p>Returns</p>

<table>
  <thead>
    <tr>
      <th style="text-align: left">Name</th>
      <th style="text-align: left">Datatype</th>
      <th style="text-align: left">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left">translations</td>
      <td style="text-align: left">Array</td>
      <td style="text-align: left">A list of translations. Each translation contains two fields:<br />text: the text of the translation<br />languageCode: the ISO language code of the translation</td>
    </tr>
    <tr>
      <td style="text-align: left">translatedQuery</td>
      <td style="text-align: left">String</td>
      <td style="text-align: left">A query string where each translations are concatenated by the boolean OR operator.</td>
    </tr>
  </tbody>
</table>

<p>Example</p>

<p>Get the translations of Notre Dame</p>

<pre><code>http://europeana.eu/api/v2/translateQuery.json?languageCodes=nl,en,hu&amp;wskey=xxxxxxxx&amp;term=notre%20dame
</code></pre>

<p>It returns</p>

<p><code>JavaScript
{
  "apikey": "xxxxxxxx",
  "action": "translateQuery.json",
  "success": true,
  "requestNumber": 8957,
  "translations": [
    {
      "text": "Notre-Dame",
      "languageCode": "nl"
    },
    {
      "text": "Notre Dame",
      "languageCode": "en"
    },
    {
      "text": "Notre Dame",
      "languageCode": "de"
    }
  ],
  "translatedQuery": "Notre-Dame OR \"Notre Dame\""
}
</code></p>

<h3 id="renaming-field-europeanacollectionname-to-edmdatasetname">Renaming field “europeanaCollectionName” to “edmDatasetName”</h3>

<p>Following the change in Europeana Data Model schema, we add edmDatasetName with the same content as the europeanaCollectionName. For a grace period we keep both fields, but next year we will return only edmDatasetName, so please update your API client. The field is available in search, object and provider calls.</p>

<!--
--></div>
</div>
﻿<!-- Begin Footer -->
<footer class="footer" role="contentinfo">
    <div class="lc">
		<div class="social-icons">
        	<a class="social-icon icon icon-social-twitter" href="https://twitter.com/EuropeanaTech">&nbsp;</a>
        	<a class="social-icon icon icon-social-facebook" href="https://www.facebook.com/Europeana">&nbsp;</a>
        	<a class="social-icon icon icon-social-googleplus" href="https://plus.google.com/+europeana/posts">&nbsp;</a>
            <a class="social-icon icon icon-social-linkedin" href="https://www.linkedin.com/groups/Europeana-134927/about">&nbsp;</a>
            <a class="social-icon icon icon-social-github" href="https://github.com/europeana">&nbsp;</a>        	
        </div>
        <ul class="nav-footer">
            <li><a href="/">Home</a></li>
            <li><a href="/about">About us</a></li>
            <li><a href="http://europeana.eu/portal/rights/terms-and-policies.html">Terms &amp; policies</a></li>
            <!--<li><a href="#">Sitemap</a></li>-->
        </ul>
        <p class="copyright">Co-funded by the European Union as part of <a href="http://pro.europeana.eu/web/europeana-creative">Europeana Creative</a>.</p>
        <a class="licensehr" rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/"><img alt="Creative Commons License" style="border-width:0" src="/img/cc.png"></a>
        
    </div>
</footer>
<!-- End Footer -->
<!--
--></body>
</html>
